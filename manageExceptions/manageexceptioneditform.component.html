<div class="col-md-12 nopadding" *blockUI="'editFormPage'">
    <div style="padding-top: 2%;
        padding-right: 2%;
        padding-left: 4%;" (click)="onCountryChange()">
        <form name="viewForm" style="overflow-y: hidden;" onload="reset();">

            <span style="font-weight:600;font-family: Georgia; font-size: 22px">
                Forms : Edit Form - Equipment Serial # {{reconComponent.editData.eqpmtSrlNum}} </span>
            <span style="float:right">Fields marked with an asterisk (
                <span style="color:red">*</span>) are required </span>



            <legend style="padding-top: 2%;">General Information</legend>
            <div class="row">
                <div class="col-md-1">
                </div>
                <div class="col-md-4">
                    <span class="formLabel">
                        <span style="color:red">* </span>Bottling Partner</span>
                    <div class="formValues">
                        <select id="bottler" name="bottler" placeholder="Select Bottler" class="commonWidth" [(ngModel)]="reconComponent.editData.btlrNm"
                            [disabled]=(disableFields)>
                            <option value="">Please Select</option>
                            <option *ngFor="let bottlerList of bottlerListResponse | slice:1" value={{bottlerList.bottlingPartnerName}}>{{bottlerList.bottlingPartnerName}}</option>
                            <option [selected]="reconComponent.editData.btlrNm"></option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">
                        <span style="color:red">* </span>Country</span>
                    <div class="formValues">
                        <select id="country" name="country" placeholder="Select Country" class="commonWidth" [(ngModel)]="reconComponent.editData.country"
                            (change)="onCountryChange()">
                            <option value="">Please Select</option>
                            <!-- <option [selected] = "reconComponent.editData.country"></option> -->
                            <option *ngFor="let ctry of countryListResponse | slice:1" value={{ctry.countryName}}>{{ctry.countryName}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Bottler Customer ID
                        <br/>(or) COF#</span>
                    <div class="formValues">
                        <input id="cof" name="cof" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.btlrCustIdVal">
                    </div>
                    <br>
                    <span class="formLabel">
                        <span style="color:red ">* </span>
                        Customer Name
                    </span>
                    <div class="formValues">
                        <input id="custName " name="custName" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.custNm">
                    </div>
                    <br>
                    <span class="formLabel">
                        <span style="color:red ">* </span>Spire Unit Location</span>
                    <div class="formValues">
                        <input id="eqpmtLoc " name="eqpmtLoc" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.eqpmtLocDsc">
                    </div>
                    <br>
                    <span class="formLabel">Install Completion Date</span>
                    <div>
                        <jqxDateTimeInput #deploymentDate [width]='"40%"' name="installCompletionDate" [formatString]="'dd-MMM-yyyy'" [allowNullDate]="'true'"
                            [allowKeyboardDelete]="'true'" [value]=null [(ngModel)]="reconComponent.editData.deploymentDt"></jqxDateTimeInput>
                    </div>
                    <br>
                </div>
                <div class="col-md-1">
                </div>

                <div class="col-md-4">

                    <span class="formLabel">Customer Address Line 1</span>
                    <div class="formValues">
                        <input id="custAddr1" name="custAddr1" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.custAddrTxt1">
                    </div>
                    <br>
                    <span class="formLabel">Customer Address Line 2</span>
                    <div class="formValues">
                        <input id="custAddr2" name="custAddr2" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.custAddrTxt2">
                    </div>
                    <br>
                    <span class="formLabel">Customer City</span>
                    <div class="formValues">
                        <input id="city" name="city" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.custCity">
                    </div>
                    <br>
                    <span class="formLabel">Customer State</span>
                    <div class="formValues">
                        <select id="state" name="state" placeholder="select state" class="commonWidth" [(ngModel)]="reconComponent.editData.custState"
                            [disabled]=(disableFields)>
                            <option value="">Please Select</option>
                            <option *ngFor="let state of stateListResponse" value={{state.stateName}}>{{state.stateName}}</option>
                            <option [selected]="reconComponent.editData.custState"></option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Customer Zip/Postal Code</span>
                    <div class="formValues">
                        <input id="zipcode" name="zipcode" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.custPostCd">
                    </div>
                    <br>
                    <span class="formLabel">Go Live Date</span>
                    <div>
                        <jqxDateTimeInput #goLiveDateRef [width]='"40%"' name="goLiveDate" [(ngModel)]="reconComponent.editData.goLiveDt" [formatString]="'dd-MMM-yyyy'"
                            [allowNullDate]="'true'" [allowKeyboardDelete]="'true'" [value]=null></jqxDateTimeInput>
                    </div>
                    <br>
                </div>
                <div class="col-md-2">
                </div>
            </div>
            <br/>
            <br/>
            <br/>
            <legend> Spire & NUC Details</legend>
            <div class="row">
                <div class="col-md-1">
                </div>
                <div class="col-md-4">
                    <span class="formLabel">
                        <span style="color:red">* </span>Spire Unit Serial #</span>
                    <div class="formValues">
                        <input id="spireSerial" name="spireSerial" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.eqpmtSrlNum"
                            [disabled]="reconCompleted">
                    </div>
                    <br>
                    <span class="formLabel">
                        <span style="color:red">* </span>Spire Unit Type</span>
                    <div class="formValues">
                        <select id="spireType" name="spireType" placeholder="Select Type" class="commonWidth" [(ngModel)]="reconComponent.editData.eqpmtType">
                            <option value="">Please Select</option>
                            <option *ngFor="let spireType of spireTypeList" value={{spireType.spireName}}>{{spireType.spireName}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Spire Unit Make</span>
                    <div class="formValues">
                        <select id="spireMake" name="spireMake" placeholder="Select Make" class="commonWidth" [(ngModel)]="reconComponent.editData.eqpmtMfgr"
                            (change)="onEquipMakeChange()">
                            <option value="">Please Select</option>
                            <option *ngFor="let manufacturer of manufacturerListResponse" value={{manufacturer.key}}>{{manufacturer.key}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Spire Unit Model</span>
                    <div class="formValues">
                        <select id="spireModel" name="spireModel" placeholder="Select Model" class="commonWidth" [(ngModel)]="reconComponent.editData.eqpmtModel"
                            [disabled]=(disableNUCModel)>
                            <option value="">Please Select</option>
                            <option *ngFor="let model of equipModelResponse" value={{model.key}}>{{model.key}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Ident Item ID</span>
                    <div class="formValues">
                        <input id="identItemId" name="identItemId" type="text" [(ngModel)]="reconComponent.editData.identItemId">
                    </div>
                    <br>
                    <span class="formLabel">Third Party Equipment ID
                        <br/>(or) Asset#</span>
                    <div class="formValues">
                        <input id="eqpmtAsset" name="eqpmtAsset" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.thirdPartyEqpmtId">
                    </div>
                    <br>
                </div>
                <div class="col-md-1">
                </div>
                <div class="col-md-4">
                    <span class="formLabel">
                        <span style="color:red">* </span>NUC Serial #</span>
                    <div class="formValues">
                        <input id="nucSerial" name="nucSerial" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.nucSerialNum">
                    </div>
                    <br>
                    <span class="formLabel">NUC Make</span>
                    <div class="formValues">
                        <select id="nucMake" name="nucMake" placeholder="Select Make" class="commonWidth" [(ngModel)]="reconComponent.editData.nucMake"
                            (change)="onNUCMakeChange()">
                            <option value="">Please Select</option>
                            <option *ngFor="let manufacturer of nucManufacturerListResponse" value={{manufacturer.key}}>{{manufacturer.key}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">NUC Model</span>
                    <div class="formValues">
                        <select id="nucModel" name="nucModel" placeholder="Select Model" class="commonWidth" [(ngModel)]="reconComponent.editData.nucModel"
                            (change)="onSpireModelChange()" [disabled]=(disableNUCModel)>
                            <option value="">Please Select</option>
                            <option *ngFor="let nucModel of nucModelResponse" value={{nucModel.key}}>{{nucModel.key}}</option>
                        </select>
                    </div>
                    <br>
                </div>
                <div class="col-md-2">
                </div>
            </div>
            <br/>
            <br/>
            <br/>
            <legend> Modem Details</legend>
            <div class="row">
                <div class="col-md-1">
                </div>
                <div class="col-md-4">
                    <span class="formLabel">
                        <span style="color:red">*</span>Modem Serial #</span>
                    <div class="formValues">
                        <input id="modemSerial" name="modemSerial" type="text" class="commonWidth" [(ngModel)]="reconComponent.editData.modemSerialNum">
                    </div>
                    <br>
                    <span class="formLabel">Modem Carrier</span>
                    <div class="formValues">
                        <select id="modemCarrier" name="modemCarrier" placeholder="Select Carrier" class="commonWidth" [(ngModel)]="reconComponent.editData.modemCarrier"
                            (change)="onSpireMakeChange()">
                            <option value="">Please Select</option>
                            <option *ngFor="let modemCarrier of modemCarrierResponse" value={{modemCarrier.key}}>{{modemCarrier.key}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Modem Make</span>
                    <div class="formValues">
                        <select id="modemMake" name="modemMake" placeholder="Select Make" class="commonWidth" [(ngModel)]="reconComponent.editData.modemMake"
                            (change)="onModemMakeChange()">
                            <option value="">Please Select</option>
                            <option *ngFor="let manufacturer of modemManufacturerListResponse" value={{manufacturer.key}}>{{manufacturer.key}}</option>
                        </select>
                    </div>
                    <br>
                    <span class="formLabel">Modem Model</span>
                    <div class="formValues">
                        <select id="modemModel" name="modemModel" placeholder="Select Model" class="commonWidth" [(ngModel)]="reconComponent.editData.modemModel"
                            (change)="onSpireModelChange()" [disabled]=(disableModemModel)>
                            <option value="">Please Select</option>
                            <option *ngFor="let modelAndSerial of modemModelResponse" value={{modelAndSerial.key}}>{{modelAndSerial.key}}</option>
                        </select>
                    </div>
                    <br>
                </div>
                <div class="col-md-7">
                </div>
            </div>
            <div class="row ">
                <div class="col-md-12 ">
                    <div [hidden]="!viewMode">
                        <div class="row ">
                            <div class="col-md-2 ">
                                <jqxButton #backBtn [theme]='"customBlue"' [width]='210' [height]='25' (onClick)="backToSearchForm()" [textImageRelation]='"imageBeforeText"'
                                    [imgPosition]='"left"' [imgSrc]='"app/images/arrow-left.png"'>
                                    Return to Manage Exceptions</jqxButton>
                            </div>
                            <div class="col-md-4 "></div>
                            <div class="col-md-2 ">
                                <jqxButton #editBtn [theme]='"customBlue"' [width]='100' [height]='25' (onClick)="backToEditForm()">
                                    Edit Form</jqxButton>
                            </div>
                            <div class="col-md-2 ">
                                <jqxButton #deleteBtn [theme]='"customBlue"' [width]='100' [height]='25' (onClick)="deleteFormRule()">
                                    Delete Form</jqxButton>
                            </div>
                            <div class="col-md-2 ">
                                <jqxButton class="searchcolorblue" #reconcileBtn [theme]='"energyblue"' [width]='100' [height]='25'>
                                    Reconcile</jqxButton>
                            </div>

                        </div>
                    </div>
                    <div>
                        <div class="row">
                            <div class="col-md-4">
                            </div>
                            <div class="col-md-4">
                                <jqxButton #cancelBtn [theme]='"customBlue"' [width]='100' [height]='25' (click)="backToManageExceptions()">
                                    Cancel
                                </jqxButton>
                            </div>
                            <div class="col-md-2">
                                <jqxButton class="searchcolorblue" #updateBtn [theme]='"energyblue"' [width]='140' [height]='25' (click)="updateForm()">
                                    Save Changes
                                </jqxButton>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <formModal #deleteFormModal>
                <formModal-header>
                    <h4 style="color:black;font-family:gotham-bold;text-align:center;display: inline-block;width: 100%;">
                        <span>Delete Form - Equipment Serial # {{reconComponent.editData.eqpmtSrlNum}} </span>
                    </h4>
                </formModal-header>
                <formModal-content>
                    You have chosen to delete the form for equipment serial # {{reconComponent.editData.eqpmtSrlNum}}. All details associated
                    with the form will be deleted forever.
                    <br/>
                    <br/> Are you sure you want to delete this form?
                </formModal-content>
                <formModal-footer>
                    <div class="col-md-12">
                        <br/>
                        <div class="col-md-4">
                            <button class="btn-form btn-primary pull left" (click)="deleteFormModal.close();">No</button>
                        </div>
                        <div class="col-md-4">
                            <button class="btn-form btn-primary" (click)="deleteFormModal.close();deleteForm();">Yes, Delete this Form</button>
                            <br/>
                            <br/>
                            <br/>
                        </div>
                        <div class="col-md-4"></div>
                    </div>
                </formModal-footer>
            </formModal>
        </form>
    </div>
</div>